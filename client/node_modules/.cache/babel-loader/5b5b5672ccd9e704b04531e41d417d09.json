{"ast":null,"code":"import _regeneratorRuntime from\"/Users/codysanders/Projects/auth-template/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/codysanders/Projects/auth-template/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/codysanders/Projects/auth-template/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import axios from'axios';import'./forgotPasswordScreen.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ForgotPasswordScreen=function ForgotPasswordScreen(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var forgotPasswordHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();config={header:{'Content-Type':'application/json'}};_context.prev=2;_context.next=5;return axios.post('/api/auth/forgotpassword',{email:email},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setSuccess(data.data);_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setError(_context.t0.response.data.error);setEmail('');setTimeout(function(){setError('');},5000);case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function forgotPasswordHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"forgotpassword-screen\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:forgotPasswordHandler,className:\"forgotpassword-screen__form\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"forgotpassword-screen__title\",children:\"Forgot Password\"}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"span\",{className:\"success-message\",children:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"forgotpassword-screen__subtext\",children:\"Please enter the email address you register your account with. We will send you reset password confirmation to this email\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,id:\"email\",placeholder:\"Email address\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Send Email\"})]})});};export default ForgotPasswordScreen;","map":{"version":3,"names":["useState","axios","ForgotPasswordScreen","email","setEmail","error","setError","success","setSuccess","forgotPasswordHandler","e","preventDefault","config","header","post","data","response","setTimeout","target","value"],"sources":["/Users/codysanders/Projects/auth-template/client/src/components/screens/ForgotPasswordScreen/ForgotPasswordScreen.js"],"sourcesContent":["import { useState } from 'react'\nimport axios from 'axios'\nimport './forgotPasswordScreen.css'\n\nconst ForgotPasswordScreen = () => {\n  const [email, setEmail] = useState('')\n  const [error, setError] = useState('')\n  const [success, setSuccess] = useState('')\n\n  const forgotPasswordHandler = async (e) => {\n    e.preventDefault()\n\n    const config = {\n      header: {\n        'Content-Type': 'application/json'\n      }\n    }\n\n    try {\n      const { data } = await axios.post(\n        '/api/auth/forgotpassword',\n        { email },\n        config\n      )\n\n      setSuccess(data.data)\n    } catch (error) {\n      setError(error.response.data.error)\n      setEmail('')\n      setTimeout(() => {\n        setError('')\n      }, 5000)\n    }\n  }\n\n  return (\n    <div className='forgotpassword-screen'>\n      <form\n        onSubmit={forgotPasswordHandler}\n        className='forgotpassword-screen__form'>\n        <h3 className='forgotpassword-screen__title'>Forgot Password</h3>\n        {error && <span className='error-message'>{error}</span>}\n        {success && <span className='success-message'>{success}</span>}\n        <div className='form-group'>\n          <p className='forgotpassword-screen__subtext'>\n            Please enter the email address you register your account with. We\n            will send you reset password confirmation to this email\n          </p>\n          <label htmlFor='email'>Email:</label>\n          <input\n            type='email'\n            required\n            id='email'\n            placeholder='Email address'\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n        <button type='submit' className='btn btn-primary'>\n          Send Email\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default ForgotPasswordScreen\n"],"mappings":"kaAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAO,4BAAP,C,wFAEA,GAAMC,qBAAoB,CAAG,QAAvBA,qBAAuB,EAAM,CACjC,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eACA,eAA0BJ,QAAQ,CAAC,EAAD,CAAlC,yCAAOK,KAAP,eAAcC,QAAd,eACA,eAA8BN,QAAQ,CAAC,EAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,sBAAqB,4FAAG,iBAAOC,CAAP,sJAC5BA,CAAC,CAACC,cAAF,GAEMC,MAHsB,CAGb,CACbC,MAAM,CAAE,CACN,eAAgB,kBADV,CADK,CAHa,uCAUHZ,MAAK,CAACa,IAAN,CACrB,0BADqB,CAErB,CAAEX,KAAK,CAALA,KAAF,CAFqB,CAGrBS,MAHqB,CAVG,wCAUlBG,IAVkB,mBAUlBA,IAVkB,CAgB1BP,UAAU,CAACO,IAAI,CAACA,IAAN,CAAV,CAhB0B,iFAkB1BT,QAAQ,CAAC,YAAMU,QAAN,CAAeD,IAAf,CAAoBV,KAArB,CAAR,CACAD,QAAQ,CAAC,EAAD,CAAR,CACAa,UAAU,CAAC,UAAM,CACfX,QAAQ,CAAC,EAAD,CAAR,CACD,CAFS,CAEP,IAFO,CAAV,CApB0B,qEAAH,kBAArBG,sBAAqB,4CAA3B,CA0BA,mBACE,YAAK,SAAS,CAAC,uBAAf,uBACE,cACE,QAAQ,CAAEA,qBADZ,CAEE,SAAS,CAAC,6BAFZ,wBAGE,WAAI,SAAS,CAAC,8BAAd,6BAHF,CAIGJ,KAAK,eAAI,aAAM,SAAS,CAAC,eAAhB,UAAiCA,KAAjC,EAJZ,CAKGE,OAAO,eAAI,aAAM,SAAS,CAAC,iBAAhB,UAAmCA,OAAnC,EALd,cAME,aAAK,SAAS,CAAC,YAAf,wBACE,UAAG,SAAS,CAAC,gCAAb,uIADF,cAKE,cAAO,OAAO,CAAC,OAAf,oBALF,cAME,cACE,IAAI,CAAC,OADP,CAEE,QAAQ,KAFV,CAGE,EAAE,CAAC,OAHL,CAIE,WAAW,CAAC,eAJd,CAKE,KAAK,CAAEJ,KALT,CAME,QAAQ,CAAE,kBAACO,CAAD,QAAON,SAAQ,CAACM,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAf,EANZ,EANF,GANF,cAqBE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,wBArBF,GADF,EADF,CA6BD,CA5DD,CA8DA,cAAejB,qBAAf"},"metadata":{},"sourceType":"module"}